
<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Categorical Encoding &#8212; 3.1</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=346841c8" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=346841c8" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=e1ce3931"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script defer data-domain="feature-engine.readthedocs.io" src="https://plausible.io/js/plausible.js"></script>
    <script src="../../_static/js/copybutton.js?v=84772c1c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/encoding/index';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="OneHotEncoder" href="OneHotEncoder.html" />
    <link rel="prev" title="DropMissingData" href="../experiment/DropMissingData.html" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>

    <!-- Cookie banner -->
    <style>
        /* Style for the cookie banner */
        #cookie-banner {
            position: fixed;
            bottom: 0;
            right: 0;
            background-color: #ffe4e1; /* Light Pink */
            color: #333;
            padding: 15px;
            max-width: 400px;
            display: none;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            z-index: 1000; /* Set a higher z-index value */
        }

        #cookie-banner p {
        font-size: 16px; /* Font size for the text */
        color: #333 !important; /* Set link color to black */
        line-height: 1.5; /* Increase line height for added spacing between sentences */
        }

        #cookie-banner a {
            color: #333;
            text-decoration: underline;
        }
    </style>

    <div id="cookie-banner">
        <h2 style="font-size: 20px; margin-bottom: 10px;">This site uses cookies</h2>
        <p style="font-size: 16px;">We use cookies to recognize your visits and preferences, to measure the effectiveness of the documentation, and discover how people find us. With your consent, you're helping us make our documentation better. <br><a href="https://www.trainindata.com/p/privacy" target="_blank">Learn More</a>.</p>
        <button id="cookie-accept">Accept</button>
        <button id="cookie-decline">Decline</button>
    </div>

    <script>
        // JavaScript to show the cookie banner and handle the accept button
        document.addEventListener('DOMContentLoaded', function () {
            var cookieBanner = document.getElementById('cookie-banner');
            var acceptButton = document.getElementById('cookie-accept');
            var declineButton = document.getElementById('cookie-decline');

            // Check if the user has already accepted or declined cookies
            var cookiesAccepted = localStorage.getItem('cookiesAccepted');

            if (!cookiesAccepted) {
                cookieBanner.style.display = 'block';

                acceptButton.addEventListener('click', function () {
                    localStorage.setItem('cookiesAccepted', 'true');
                    loadGoogleAnalytics();
                    cookieBanner.style.display = 'none';
                });

                declineButton.addEventListener('click', function () {
                    localStorage.setItem('cookiesAccepted', 'false');
                    cookieBanner.style.display = 'none';
                });
            } else if (cookiesAccepted === 'true') {
                loadGoogleAnalytics();
            }
        });

        function loadGoogleAnalytics() {
            // Load Google Analytics only if consent is given
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-Z6MPCG673G';
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-Z6MPCG673G');
        }
    </script>
    <!-- Cookie banner -->


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/sageops_logo.png" class="logo__image only-light" alt="3.1 - Home"/>
    <script>document.write(`<img src="../../_static/sageops_logo.png" class="logo__image only-dark" alt="3.1 - Home"/>`);</script>
  
  
</a></div>
    
      <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../quickstart/index.html">
                        Quick Start
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        SageOps User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../api_doc/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../example_notebooks/index.html">
                        Example Notebooks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/index.html">
                        About
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../quickstart/index.html">
                        Quick Start
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        SageOps User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../api_doc/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../example_notebooks/index.html">
                        Example Notebooks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/index.html">
                        About
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../experiment/index.html">Experiment</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../experiment/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../experiment/ArbitraryNumberImputer.html">Experiment Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../experiment/EndTailImputer.html">EndTailImputer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../experiment/CategoricalImputer.html">CategoricalImputer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../experiment/RandomSampleImputer.html">RandomSampleImputer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../experiment/AddMissingIndicator.html">AddMissingIndicator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../experiment/DropMissingData.html">DropMissingData</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">Categorical Encoding</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="OneHotEncoder.html">OneHotEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="OrdinalEncoder.html">Ordinal Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="CountFrequencyEncoder.html">CountFrequencyEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="MeanEncoder.html">MeanEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="WoEEncoder.html">Weight of Evidence (WoE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="DecisionTreeEncoder.html">DecisionTreeEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="RareLabelEncoder.html">RareLabelEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="StringSimilarityEncoder.html">StringSimilarityEncoder</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../discretisation/index.html">Discretisation</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../discretisation/EqualFrequencyDiscretiser.html">EqualFrequencyDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discretisation/EqualWidthDiscretiser.html">EqualWidthDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discretisation/ArbitraryDiscretiser.html">ArbitraryDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discretisation/DecisionTreeDiscretiser.html">DecisionTreeDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discretisation/GeometricWidthDiscretiser.html">GeometricWidthDiscretiser</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../outliers/index.html">Outlier Handling</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../outliers/Winsorizer.html">Winsorizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outliers/ArbitraryOutlierCapper.html">ArbitraryOutlierCapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outliers/OutlierTrimmer.html">OutlierTrimmer</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../transformation/index.html">Variance Stabilizing Transformations</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../transformation/LogTransformer.html">LogTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/LogCpTransformer.html">LogCpTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/ReciprocalTransformer.html">ReciprocalTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/ArcsinTransformer.html">ArcsinTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/PowerTransformer.html">PowerTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/BoxCoxTransformer.html">BoxCoxTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/YeoJohnsonTransformer.html">YeoJohnsonTransformer</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../scaling/index.html">Scaling</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../scaling/MeanNormalizationScaler.html">MeanNormalizationScaler</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../creation/index.html">Feature Creation</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../creation/CyclicalFeatures.html">CyclicalFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creation/MathFeatures.html">MathFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creation/RelativeFeatures.html">RelativeFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creation/DecisionTreeFeatures.html">DecisionTreeFeatures</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../datetime/index.html">Datetime Features</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../datetime/DatetimeFeatures.html">DatetimeFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datetime/DatetimeSubtraction.html">DatetimeSubtraction</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../selection/index.html">Feature Selection</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../selection/DropFeatures.html">DropFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/DropConstantFeatures.html">DropConstantFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/DropDuplicateFeatures.html">DropDuplicateFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/DropCorrelatedFeatures.html">DropCorrelatedFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/SmartCorrelatedSelection.html">SmartCorrelatedSelection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/SelectBySingleFeaturePerformance.html">SelectBySingleFeaturePerformance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/RecursiveFeatureElimination.html">RecursiveFeatureElimination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/RecursiveFeatureAddition.html">RecursiveFeatureAddition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/SelectByShuffling.html">SelectByShuffling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/SelectByTargetMeanPerformance.html">SelectByTargetMeanPerformance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/DropHighPSIFeatures.html">DropHighPSIFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/SelectByInformationValue.html">SelectByInformationValue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/ProbeFeatureSelection.html">ProbeFeatureSelection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/MRMR.html">MRMR - Minimum Redundancy Maximum Relevance</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../timeseries/index.html">Time Series Features</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../timeseries/forecasting/index.html">Forecasting Features</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../preprocessing/index.html">Preprocessing</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../preprocessing/MatchCategories.html">MatchCategories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preprocessing/MatchVariables.html">MatchVariables</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../wrappers/index.html">Scikit-learn Wrapper</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../wrappers/Wrapper.html">SklearnTransformerWrapper</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../pipeline/index.html">Pipeline</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/Pipeline.html">Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/make_pipeline.html">make_pipeline</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../variable_handling/index.html">Variable handling functions</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/find_all_variables.html">find_all_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/find_categorical_variables.html">find_categorical_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/find_datetime_variables.html">find_datetime_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/find_numerical_variables.html">find_numerical_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/find_categorical_and_numerical_variables.html">find_categorical_and_numerical_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/check_all_variables.html">check_all_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/check_categorical_variables.html">check_categorical_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/check_datetime_variables.html">check_datetime_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/check_numerical_variables.html">check_numerical_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/retain_variables_if_in_df.html">retain_variables_if_in_df</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">SageOps User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Categorical Encoding</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="categorical-encoding">
<span id="encoding-user-guide"></span><h1>Categorical Encoding<a class="headerlink" href="#categorical-encoding" title="Permalink to this heading">#</a></h1>
<p>Categorical encoding is the process of converting categorical variables into numeric
features. It is an important feature engineering step in most data science projects,
as it ensures that machine learning algorithms can appropriately handle and interpret
categorical data.</p>
<p>There are various categorical encoding methods that we can use to encode categorical
features. One hot encoding and ordinal encoding are the most well known, but other
encoding techniques can help tackle high cardinality and rare categories before and
after training machine learning models.</p>
<p>Feature-engine’s categorical encoders replace the variables’ categorical values by
estimated or arbitrary numerical values through various encoding methods. In this page,
we will discuss categorical features and the importance of categorical encoding in more
detail, and then introduce the various encoding techniques supported by Feature-engine.</p>
<section id="categorical-features">
<h2>Categorical features<a class="headerlink" href="#categorical-features" title="Permalink to this heading">#</a></h2>
<p>Categorical variables are those whose values are selected from a group of categories
or labels. Their values can be strings or numbers.</p>
<p><em>Color</em> is a categorical feature that can take values such as <em>red</em>, <em>yellow</em> or
<em>orange</em>, among others. Similarly, <em>size</em> is another categorical feature, with
the values of <em>small</em>, <em>medium</em> and <em>large</em>.</p>
</section>
<section id="nominal-data-vs-ordinal-data">
<h2>Nominal data vs ordinal data<a class="headerlink" href="#nominal-data-vs-ordinal-data" title="Permalink to this heading">#</a></h2>
<p>Categorical features can be <strong>nominal</strong> or <strong>ordinal</strong>.</p>
<p><strong>Nominal features</strong> are categorical features whose categories don’t have a defined ranking
or inherent order. <em>Color</em> is an example of a nominal feature because each color is an
independent entity, without a logical ordering or ranking.</p>
<p><strong>Ordinal features</strong> are categorical features whose categories show an inherent order or
ranking. <em>Size</em> is an example of an ordinal feature, as the different sizes can be ordered
from smallest to largest.</p>
<p>Understanding if categorical features are <em>nominal</em> or <em>ordinal</em> can help us choose the
most appropriate encoding method to transform their values into numbers.</p>
</section>
<section id="identifying-categorical-features">
<h2>Identifying categorical features<a class="headerlink" href="#identifying-categorical-features" title="Permalink to this heading">#</a></h2>
<p>We can identify categorical features by inspecting their data types. With pandas’ <code class="docutils literal notranslate"><span class="pre">dtypes</span></code>
we can obtain the data types of all variables in a dataframe; features with non-numeric data
types such as <em>string</em>, <em>object</em> or <em>categorical</em> are, in general, categorical.</p>
<p>Categorical features can also be numeric, however, like for example the features <em>Store ID</em>,
<em>SKU ID</em> or <em>Zip Code</em>. Although these variables have numeric values, they are categorical.</p>
</section>
<section id="cardinality">
<h2>Cardinality<a class="headerlink" href="#cardinality" title="Permalink to this heading">#</a></h2>
<p><strong>Cardinality</strong> refers to the number of unique categories of a categorical variable. F
or example, the cardinality of the variable ‘size’, which takes the values ‘small’,
‘medium’ and ‘large’ is 3.</p>
<p>A categorical variable is said to have a <strong>low cardinality</strong> when the number of distinct
values is relatively small. Alternatively, a categorical feature is said to have a <strong>high
cardinality</strong> when the number of distinct categories is large.</p>
<p>Highly cardinal features can pose challenges. It can lead to overfitting in tree-based
models, and it can also lead to unseen categories in test or live data. As we will see
later, if we do not account for unseen categories when designing the machine learning
pipeline, the machine learning model will not know how to process them and will return
an error or an inaccurate prediction.</p>
</section>
<section id="unseen-categories">
<h2>Unseen categories<a class="headerlink" href="#unseen-categories" title="Permalink to this heading">#</a></h2>
<p><strong>Unseen categories</strong> are categorical values that appear in the test or validation
datasets, or even in live data after model deployment, that were not present in the
training data, and therefore were not <strong>seen</strong> by the machine learning model.</p>
<p>Unseen categories are challenging for various reasons. Firstly, when we create mappings
from categorical values to numbers by using an encoding technique, we only generate
mappings for those categories <em>present</em> in the training set. Hence, we’d lack a mapping
for a new, unseen value.</p>
<p>We may feel tempted to replace unseen categories by 0, or an arbitrary value, or just have
0s in all dummy variables if we used one hot encoding, but this may make the machine learning
model behave unexpectedly leading to inaccurate predictions.</p>
<p>Ideally, we want to account for the potential presence of unseen categories during the
training of the model, and more generally, during the training of the entire machine
learning pipeline, that is, including the feature engineering and categorical encoding
steps. Some categorical encoding methods can account for unseen categories, as we will
see later on.</p>
</section>
<section id="importance-of-categorical-encoding">
<h2>Importance of categorical encoding<a class="headerlink" href="#importance-of-categorical-encoding" title="Permalink to this heading">#</a></h2>
<p>Most machine learning algorithms, like <em>linear regression</em>, <em>support vector machines</em>
and <em>logistic regression</em>, require input data to be numeric because they use numerical
computations to learn the relationship between the predictor features and the target
variable. These algorithms are not inherently capable of interpreting categorical data.
Thus, categorical encoding is a crucial step that ensures that the input data is compatible
with the expectations of the machine learning models.</p>
<p>Some implementations of <em>decision tree</em> based algorithms can directly handle categorical data.
We’d still recommend encoding categorical features, for example, to reduce cardinality and
account for unseen categories.</p>
</section>
<section id="overfitting">
<h2>Overfitting<a class="headerlink" href="#overfitting" title="Permalink to this heading">#</a></h2>
<p>Overfitting occurs when a machine learning model learns the noise and random fluctuations
present in the training data in addition to the underlying relationships. This results in a
model that performs exceptionally well on the training data but fails to generalize on unseen
data (i.e., the model shows low performance on the validation data set).</p>
<p>High cardinality features can lead to overfitting, particularly in tree-based models such
as decision trees or random forests. Overfitting occurs because tree-based models will try
to perform extensive splitting on the high cardinality feature, making the final tree overly
complex. This often leads to poor generalization. Reducing cardinality, often helps mitigate
the problem.</p>
</section>
<section id="encoding-pipeline">
<h2>Encoding pipeline<a class="headerlink" href="#encoding-pipeline" title="Permalink to this heading">#</a></h2>
<p>Many categorical encoding methods learn parameters from data. These parameters are  used to
replace the original categorical values. To prevent overfitting and evaluate the machine learning
pipelines accurately, it is key to split the dataset into a training and a testing sets before
fitting the encoders. In other words, the encoders should learn the encoding parameters only
from the <strong>training data</strong>.</p>
</section>
<section id="encoding-methods">
<h2>Encoding methods<a class="headerlink" href="#encoding-methods" title="Permalink to this heading">#</a></h2>
<p>There are various methods to transform categorical variables into numerical features. One hot
encoding and ordinal encoding are the most commonly used, but other methods can mitigate high
cardinality and account for unseen categories.</p>
<p>In the rest of this page, we’ll introduce various methods for encoding categorical data, and
highlight the Feature-engine transformer that can carry out this transformation.</p>
<section id="one-hot-encoding">
<h3>One hot encoding<a class="headerlink" href="#one-hot-encoding" title="Permalink to this heading">#</a></h3>
<p>One-hot encoding (OHE) consists of replacing categorical variables by a set of binary variables
each representing one of the unique categories in the variable. The binary variable takes the
value 1, if the observation shows the category, or alternatively, 0.</p>
<p>One hot encoding is particularly suitable for linear models because it treats each category
independently, and linear models can process binary variables effectively.</p>
<p>One hot encoding, however, increases the dimensionality of the dataset, as it adds a new
variable per category. Hence, OHE may not be suitable for encoding high cardinality features,
as it can drastically increase the dimensionality of the dataset, often leading to a set of
variables that are highly correlated or even identical.</p>
<p>Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">OneHotEncoder</span></code> implements one hot encoding.</p>
</section>
<section id="one-hot-encoding-of-frequent-categories">
<h3>One hot encoding of frequent categories<a class="headerlink" href="#one-hot-encoding-of-frequent-categories" title="Permalink to this heading">#</a></h3>
<p>To prevent a massive increase of the feature space, some data scientists create binary
variables through one hot encoding of the <strong>most frequent categories</strong> in the variable.
Less frequent values are treated collectively and represented as 0 in all the binary
variables created for the frequent categories.</p>
<p>One hot encoding of frequent categories can then help tackle high cardinality and also
unseen categories, because unseen categories will be also encoded as an infrequent value.</p>
<p>Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">OneHotEncoder</span></code> can implement one hot encoding of frequent categories.</p>
</section>
<section id="ordinal-encoding">
<h3>Ordinal Encoding<a class="headerlink" href="#ordinal-encoding" title="Permalink to this heading">#</a></h3>
<p>In ordinal encoding, each category is replaced with an integer value. These numbers are,
in general, assigned arbitrarily. With Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder</span></code>, we have the
option to assign integers arbitrarily, or alternatively, ordered based on the mean target
value per category.</p>
<p>Ordinal encoding is a preferred option when the categorical variable has an inherent order.
Examples include the variable <strong>size</strong>, with values ‘small’, ‘medium’ and ‘large’, and the
variable <strong>education level</strong>, with values such as ‘high school’, ‘bachelors’, ‘masters’ and
‘PhD’, among others.</p>
<p>Ordinal encoding is suitable for decision trees-based models, because these models have the
ability to interpret non-linear relationships between the encoded variables and the target, and
prefer low feature spaces.</p>
<p>Ordinal encoding, however, lacks the ability to handle unseen categories. If a new category
appears in later stages, the encoder will not know what number to assign to it, because the
category to integer mappings are generated based on the training set. This can result in errors
and disrupt the machine learning pipeline. Therefore, it’s most effective to use ordinal encoding
in situations where the number of categories is fixed and won’t change over time.</p>
<p>Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder</span></code> implements ordinal encoding.</p>
</section>
<section id="count-and-frequency-encoding">
<h3>Count and Frequency Encoding<a class="headerlink" href="#count-and-frequency-encoding" title="Permalink to this heading">#</a></h3>
<p>Count and frequency encoding consist of mapping the categories to either the count or percentage of
observations per category observed in the training data set. Count and frequency encoding are suitable
when the frequency of occurrence of categories is meaningful and has some predictive power.</p>
<p>Count and frequency encoding work well with high cardinality and does not increase the dimensionality
of the dataset, as opposed to one-hot encoding. However, when two or more categories have the same
count, this encoding method will assign same value to them, and the model might not be able to
distinguish two observations based on that feature alone.</p>
<p>Count and frequency encoding can’t handle unseen categories on its own. To manage unseen
categories, we can assign them a frequency or count of ‘0’ explicitly, which represents
the frequency of the category on the training set, to prevent failure during inference
time (i.e., while making predictions) or while encoding live data.</p>
<p>Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">CountFrequencyEncoder</span></code> implements cound and frequency encoding.</p>
</section>
<section id="mean-encoding">
<h3>Mean Encoding<a class="headerlink" href="#mean-encoding" title="Permalink to this heading">#</a></h3>
<p>Mean encoding, or target encoding, consists of replacing each category with a blend of the
mean value of the target variable for the observations within that category with the general
target mean.</p>
<p>This encoding procedure was designed specifically to account for features with high
cardinality. When there is high cardinality, there will be categories that are highly
represented in the data, and those that are rare. With mean encoding, we’d replace categories
that are highly present with a value that is closer to the target mean per category,
whereas rare categories will be replaced by values closer to the general target mean.
Like this, unseen categories will be accounted automatically and replaced by the target
mean value across the training data set.</p>
<p>The mean encoding method directly ties the categorical feature to the target variable,
hence, it is prone to overfitting. When encoding categories with the target mean, make
sure to have proper validation strategies in place.</p>
<p>Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">MeanEncoder</span></code> implements mean encoding.</p>
</section>
<section id="woe-encoding">
<h3>WoE Encoding<a class="headerlink" href="#woe-encoding" title="Permalink to this heading">#</a></h3>
<p>The WoE encoding replaces categories by the weight of evidence, which is given by:</p>
<div class="math notranslate nohighlight">
\[log( p(X=xj|Y = 1) / p(X=xj|Y=0) )\]</div>
<p>This encoding is primarily used in the finance industry.</p>
<p>WoE is a measure of “goodness” or “strength” of a category at predicting the target outcome
being ‘1’ or ‘positive’. It means that categories with high values of WoE are strong predictors
of the positive class.</p>
<p>WoE encoding can only be used with <strong>binary classification</strong> where the target variable has
two possible outcomes such as ‘1’ and ‘0’. This characteristic of WoE encoding makes it highly
compatible with logistic regression whose fundamentals are also based on the concept of log odds.</p>
<p>Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">WoEEncoder</span></code> implements WoE encoding.</p>
</section>
<section id="decision-tree-encoding">
<h3>Decision Tree Encoding<a class="headerlink" href="#decision-tree-encoding" title="Permalink to this heading">#</a></h3>
<p>The decision tree encoding consists of replacing each category with the output of a decision
tree model.</p>
<p>In decision tree encoding, a decision tree is trained using the categorical feature to
predict the target variable. The decision tree splits the data based of each category,
eventually leading the observations to a final leaf. Each category is then replaced by
the prediction of the tree, which consists of the mean target value calculated over the
observations that ended in that leaf.</p>
<p>Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">DecisionTreeEncoder</span></code> implements decision tree encoding.</p>
</section>
<section id="rare-label-encoding">
<h3>Rare Label Encoding<a class="headerlink" href="#rare-label-encoding" title="Permalink to this heading">#</a></h3>
<p>We mentioned previously that high cardinality can lead to infrequent and unseen categories.
This in turn can result in failures during the encoding of new data. A common way to account
for infrequent categories is to treat them collectively as an additional group. We call this
process rare label encoding.</p>
<p>Rare label encoding helps reduce the cardinality of the features. This can be beneficial for
models and humans alike, as it simplifies the input feature.</p>
<p>Rare label encoding can be used in conjunction with other encoding methods, like one-hot
encoding, ordinal encoding and weight of evidence, to prevent explosion of the feature space,
or the lack of mappings for less frequent values.</p>
<p>Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">RareLabelEncoder</span></code> implements rare label encoding.</p>
</section>
<section id="string-similarity-encoding">
<h3>String Similarity Encoding<a class="headerlink" href="#string-similarity-encoding" title="Permalink to this heading">#</a></h3>
<p>The string similarity encoding consists of replacing categorical variables with a set of
float variables that capture the similarity between the category names. The new variables
have values between <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code>, where <code class="docutils literal notranslate"><span class="pre">0</span></code> indicates no similarity and <code class="docutils literal notranslate"><span class="pre">1</span></code> is an exact match
between the names of the categories.</p>
<p>String similarity encoding is well suited for “dirty” categorical features. We call the categorical
data as “dirty” when there are misspellings (bachelors vs bachlors), abbreviations used in
some instances while full words in others (U.S. vs United States), etc. Most encoding methods
would consider each of these categories as distinct even if they refer to the same category.
To prevent this from happening, we can use string similarity to first compute the “distance”
between each unique category, and then we could group the highly similar categories together.</p>
<p>String similarity encoding reduces the cardinality and also enhances the model performance by
blending similar categories together.</p>
<p>Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">StringSimilarityEncoder</span></code> implements string similarity encoding.</p>
<p><strong>Summary of Feature-engine’s encoders characteristics</strong></p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Transformer</p></th>
<th class="head"><p>Regression</p></th>
<th class="head"><p>Classification</p></th>
<th class="head"><p>Multi-class</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">OneHotEncoder()</span></code></p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>Adds dummy variables to represent each category</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code></p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>Replaces categories with an integer</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">CountFrequencyEncoder()</span></code></p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>Replaces categories with their count or frequency</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">MeanEncoder()</span></code></p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>x</p></td>
<td><p>Replaces categories with the targe mean value</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">WoEEncoder()</span></code></p></td>
<td><p>x</p></td>
<td><p>√</p></td>
<td><p>x</p></td>
<td><p>Replaces categories with the weight of the evidence</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DecisionTreeEncoder()</span></code></p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>Replaces categories with the predictions of a decision tree</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">RareLabelEncoder()</span></code></p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>Groups infrequent categories into a single one</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">StringSimilarityEncoder()</span></code></p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>√</p></td>
<td><p>Replaces categories with distances values</p></td>
</tr>
</tbody>
</table>
<p>Feature-engine’s categorical encoders work only with categorical variables by default.
From version 1.1.0, you have the option to set the parameter <code class="docutils literal notranslate"><span class="pre">ignore_format</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>,
and make the transformers also accept numerical variables as input.</p>
<p><strong>Monotonicity</strong></p>
<p>Most Feature-engine’s encoders will return, or attempt to return monotonic relationships
between the encoded variable and the target. A monotonic relationship is one in which
the variable value increases as the values in the other variable increase, or decrease.
See the following illustration as examples:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/monotonic.png"><img alt="../../_images/monotonic.png" src="../../_images/monotonic.png" style="width: 400px;" /></a>
</figure>
<p>Monotonic relationships tend to help improve the performance of linear models and build
shallower decision trees.</p>
<p><strong>Regression vs Classification</strong></p>
<p>Most Feature-engine’s encoders are suitable for both regression and classification, with
the exception of the <code class="xref py py-class docutils literal notranslate"><span class="pre">WoEEncoder()</span></code> which is
designed solely for <strong>binary</strong> classification.</p>
<p><strong>Multi-class classification</strong></p>
<p>Finally, some Feature-engine’s encoders can handle multi-class targets off-the-shelf for
example the <code class="xref py py-class docutils literal notranslate"><span class="pre">OneHotEncoder()</span></code>, the <code class="xref py py-class docutils literal notranslate"><span class="pre">CountFrequencyEncoder()</span></code> and the
<code class="xref py py-class docutils literal notranslate"><span class="pre">DecisionTreeEncoder()</span></code>.</p>
<p>Note that while the <code class="xref py py-class docutils literal notranslate"><span class="pre">MeanEncoder()</span></code> and the <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> will operate
with multi-class targets, but the mean of the classes may not be significant and this will
defeat the purpose of these encoding techniques.</p>
</section>
</section>
<section id="alternative-encoding-techniques">
<h2>Alternative encoding techniques<a class="headerlink" href="#alternative-encoding-techniques" title="Permalink to this heading">#</a></h2>
<p>In addition to the categorical encoding methods supported by Feature-engine, there are
other methods like feature hashing or binary encoding. These methods are supported by the
Python library category encoders. For the time being, we decided not to support these
transformations because they return features that are not easy to interpret. And hence,
it is very hard to make sense of the outputs of machine learning models trained on
categorical variables encoded with these methods.</p>
</section>
<section id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Permalink to this heading">#</a></h2>
<p>For tutorials about this and other feature engineering methods check out these resources:</p>
<figure class="align-center align-left" id="id1">
<a class="reference external image-reference" href="https://www.trainindata.com/p/feature-engineering-for-machine-learning"><img alt="../../_images/feml.png" src="../../_images/feml.png" style="width: 300px;" /></a>
<figcaption>
<p><span class="caption-text">Feature Engineering for Machine Learning</span><a class="headerlink" href="#id1" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<p>Or read our book:</p>
<figure class="align-center align-left" id="id2">
<a class="reference external image-reference" href="https://www.packtpub.com/en-us/product/python-feature-engineering-cookbook-9781835883587"><img alt="../../_images/cookbook.png" src="../../_images/cookbook.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-text">Python Feature Engineering Cookbook</span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<p>Both our book and course are suitable for beginners and more advanced data scientists
alike. By purchasing them you are supporting Sole, the main developer of Feature-engine.</p>
</section>
<section id="encoders">
<h2>Encoders<a class="headerlink" href="#encoders" title="Permalink to this heading">#</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="OneHotEncoder.html">OneHotEncoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="OrdinalEncoder.html">Ordinal Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="CountFrequencyEncoder.html">CountFrequencyEncoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="MeanEncoder.html">MeanEncoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="WoEEncoder.html">Weight of Evidence (WoE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="DecisionTreeEncoder.html">DecisionTreeEncoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="RareLabelEncoder.html">RareLabelEncoder</a></li>
<li class="toctree-l1"><a class="reference internal" href="StringSimilarityEncoder.html">StringSimilarityEncoder</a></li>
</ul>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../experiment/DropMissingData.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">DropMissingData</p>
      </div>
    </a>
    <a class="right-next"
       href="OneHotEncoder.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">OneHotEncoder</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#categorical-features">Categorical features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nominal-data-vs-ordinal-data">Nominal data vs ordinal data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-categorical-features">Identifying categorical features</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cardinality">Cardinality</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#unseen-categories">Unseen categories</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#importance-of-categorical-encoding">Importance of categorical encoding</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overfitting">Overfitting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encoding-pipeline">Encoding pipeline</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encoding-methods">Encoding methods</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#one-hot-encoding">One hot encoding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#one-hot-encoding-of-frequent-categories">One hot encoding of frequent categories</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ordinal-encoding">Ordinal Encoding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#count-and-frequency-encoding">Count and Frequency Encoding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-encoding">Mean Encoding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#woe-encoding">WoE Encoding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#decision-tree-encoding">Decision Tree Encoding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rare-label-encoding">Rare Label Encoding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#string-similarity-encoding">String Similarity Encoding</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#alternative-encoding-techniques">Alternative encoding techniques</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resources">Additional resources</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encoders">Encoders</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/user_guide/encoding/index.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>