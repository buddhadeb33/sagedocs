
<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Ordinal Encoding &#8212; 3.1</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/feature-engine.css?v=b7505ee5" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/feature-engine.css?v=b7505ee5" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=e1ce3931"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script defer data-domain="feature-engine.readthedocs.io" src="https://plausible.io/js/plausible.js"></script>
    <script src="../../_static/js/copybutton.js?v=84772c1c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/encoding/OrdinalEncoder';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="CountFrequencyEncoder" href="CountFrequencyEncoder.html" />
    <link rel="prev" title="OneHotEncoder" href="OneHotEncoder.html" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>

    <!-- Cookie banner -->
    <style>
        /* Style for the cookie banner */
        #cookie-banner {
            position: fixed;
            bottom: 0;
            right: 0;
            background-color: #ffe4e1; /* Light Pink */
            color: #333;
            padding: 15px;
            max-width: 400px;
            display: none;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            z-index: 1000; /* Set a higher z-index value */
        }

        #cookie-banner p {
        font-size: 16px; /* Font size for the text */
        color: #333 !important; /* Set link color to black */
        line-height: 1.5; /* Increase line height for added spacing between sentences */
        }

        #cookie-banner a {
            color: #333;
            text-decoration: underline;
        }
    </style>

    <div id="cookie-banner">
        <h2 style="font-size: 20px; margin-bottom: 10px;">This site uses cookies</h2>
        <p style="font-size: 16px;">We use cookies to recognize your visits and preferences, to measure the effectiveness of the documentation, and discover how people find us. With your consent, you're helping us make our documentation better. <br><a href="https://www.trainindata.com/p/privacy" target="_blank">Learn More</a>.</p>
        <button id="cookie-accept">Accept</button>
        <button id="cookie-decline">Decline</button>
    </div>

    <script>
        // JavaScript to show the cookie banner and handle the accept button
        document.addEventListener('DOMContentLoaded', function () {
            var cookieBanner = document.getElementById('cookie-banner');
            var acceptButton = document.getElementById('cookie-accept');
            var declineButton = document.getElementById('cookie-decline');

            // Check if the user has already accepted or declined cookies
            var cookiesAccepted = localStorage.getItem('cookiesAccepted');

            if (!cookiesAccepted) {
                cookieBanner.style.display = 'block';

                acceptButton.addEventListener('click', function () {
                    localStorage.setItem('cookiesAccepted', 'true');
                    loadGoogleAnalytics();
                    cookieBanner.style.display = 'none';
                });

                declineButton.addEventListener('click', function () {
                    localStorage.setItem('cookiesAccepted', 'false');
                    cookieBanner.style.display = 'none';
                });
            } else if (cookiesAccepted === 'true') {
                loadGoogleAnalytics();
            }
        });

        function loadGoogleAnalytics() {
            // Load Google Analytics only if consent is given
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-Z6MPCG673G';
            document.head.appendChild(script);

            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-Z6MPCG673G');
        }
    </script>
    <!-- Cookie banner -->


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/sageops_logo.png" class="logo__image only-light" alt="3.1 - Home"/>
    <script>document.write(`<img src="../../_static/sageops_logo.png" class="logo__image only-dark" alt="3.1 - Home"/>`);</script>
  
  
</a></div>
    
      <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../quickstart/index.html">
                        Quick Start
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        SageOps User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../api_doc/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../example_notebooks/index.html">
                        Example Notebooks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/index.html">
                        About
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/feature-engine/feature_engine" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../quickstart/index.html">
                        Quick Start
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        SageOps User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../api_doc/index.html">
                        API
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../example_notebooks/index.html">
                        Example Notebooks
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/index.html">
                        About
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/feature-engine/feature_engine" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../imputation/index.html">Experiment</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../imputation/MeanMedianImputer.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../imputation/ArbitraryNumberImputer.html">Experiment Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../imputation/EndTailImputer.html">EndTailImputer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../imputation/CategoricalImputer.html">CategoricalImputer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../imputation/RandomSampleImputer.html">RandomSampleImputer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../imputation/AddMissingIndicator.html">AddMissingIndicator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../imputation/DropMissingData.html">DropMissingData</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Categorical Encoding</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="OneHotEncoder.html">OneHotEncoder</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Ordinal Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="CountFrequencyEncoder.html">CountFrequencyEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="MeanEncoder.html">MeanEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="WoEEncoder.html">Weight of Evidence (WoE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="DecisionTreeEncoder.html">DecisionTreeEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="RareLabelEncoder.html">RareLabelEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="StringSimilarityEncoder.html">StringSimilarityEncoder</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../discretisation/index.html">Discretisation</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../discretisation/EqualFrequencyDiscretiser.html">EqualFrequencyDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discretisation/EqualWidthDiscretiser.html">EqualWidthDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discretisation/ArbitraryDiscretiser.html">ArbitraryDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discretisation/DecisionTreeDiscretiser.html">DecisionTreeDiscretiser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../discretisation/GeometricWidthDiscretiser.html">GeometricWidthDiscretiser</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../outliers/index.html">Outlier Handling</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../outliers/Winsorizer.html">Winsorizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outliers/ArbitraryOutlierCapper.html">ArbitraryOutlierCapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outliers/OutlierTrimmer.html">OutlierTrimmer</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../transformation/index.html">Variance Stabilizing Transformations</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../transformation/LogTransformer.html">LogTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/LogCpTransformer.html">LogCpTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/ReciprocalTransformer.html">ReciprocalTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/ArcsinTransformer.html">ArcsinTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/PowerTransformer.html">PowerTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/BoxCoxTransformer.html">BoxCoxTransformer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transformation/YeoJohnsonTransformer.html">YeoJohnsonTransformer</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../scaling/index.html">Scaling</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../scaling/MeanNormalizationScaler.html">MeanNormalizationScaler</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../creation/index.html">Feature Creation</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../creation/CyclicalFeatures.html">CyclicalFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creation/MathFeatures.html">MathFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creation/RelativeFeatures.html">RelativeFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creation/DecisionTreeFeatures.html">DecisionTreeFeatures</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../datetime/index.html">Datetime Features</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../datetime/DatetimeFeatures.html">DatetimeFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datetime/DatetimeSubtraction.html">DatetimeSubtraction</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../selection/index.html">Feature Selection</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../selection/DropFeatures.html">DropFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/DropConstantFeatures.html">DropConstantFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/DropDuplicateFeatures.html">DropDuplicateFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/DropCorrelatedFeatures.html">DropCorrelatedFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/SmartCorrelatedSelection.html">SmartCorrelatedSelection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/SelectBySingleFeaturePerformance.html">SelectBySingleFeaturePerformance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/RecursiveFeatureElimination.html">RecursiveFeatureElimination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/RecursiveFeatureAddition.html">RecursiveFeatureAddition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/SelectByShuffling.html">SelectByShuffling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/SelectByTargetMeanPerformance.html">SelectByTargetMeanPerformance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/DropHighPSIFeatures.html">DropHighPSIFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/SelectByInformationValue.html">SelectByInformationValue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/ProbeFeatureSelection.html">ProbeFeatureSelection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selection/MRMR.html">MRMR - Minimum Redundancy Maximum Relevance</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../timeseries/index.html">Time Series Features</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../timeseries/forecasting/index.html">Forecasting Features</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../preprocessing/index.html">Preprocessing</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../preprocessing/MatchCategories.html">MatchCategories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preprocessing/MatchVariables.html">MatchVariables</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../wrappers/index.html">Scikit-learn Wrapper</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../wrappers/Wrapper.html">SklearnTransformerWrapper</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../pipeline/index.html">Pipeline</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/Pipeline.html">Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pipeline/make_pipeline.html">make_pipeline</a></li>
</ul>
</li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../variable_handling/index.html">Variable handling functions</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/find_all_variables.html">find_all_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/find_categorical_variables.html">find_categorical_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/find_datetime_variables.html">find_datetime_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/find_numerical_variables.html">find_numerical_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/find_categorical_and_numerical_variables.html">find_categorical_and_numerical_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/check_all_variables.html">check_all_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/check_categorical_variables.html">check_categorical_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/check_datetime_variables.html">check_datetime_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/check_numerical_variables.html">check_numerical_variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../variable_handling/retain_variables_if_in_df.html">retain_variables_if_in_df</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">SageOps User Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Categorical Encoding</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Ordinal Encoding</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="ordinal-encoding">
<span id="ordinal-encoder"></span><h1>Ordinal Encoding<a class="headerlink" href="#ordinal-encoding" title="Permalink to this heading">#</a></h1>
<p>Ordinal encoding consists of converting categorical data into numeric data by assigning a unique integer to each category,
and is a common data preprocessing step in most data science projects.</p>
<p>Ordinal encoding is particularly useful when an inherent ordering or ranking is present within the categorical variable.
For example, the variable <strong>size</strong> with values <em>small</em>, <em>medium</em>, and <em>large</em> exhibits a clear ranking, i.e., small
&lt; medium &lt; large, thereby making ordinal encoding an appropriate encoding method.</p>
<p>In practice, we apply ordinal encoding regardless of the intrinsic ordering of the variable because some machine learning
models, like, for example, decision tree-based models, are able to learn from these arbitrarily assigned values.</p>
<p>One of the advantages of ordinal encoding is that it keeps the feature space compact as opposed to one-hot encoding, which
can significantly increase the dimensionality of the dataset.</p>
<section id="arbitrary-vs-ordered-ordinal-encoding">
<h2>Arbitrary vs ordered ordinal encoding<a class="headerlink" href="#arbitrary-vs-ordered-ordinal-encoding" title="Permalink to this heading">#</a></h2>
<p>In ordinal encoding, the categorical variable can be encoded into numeric values either arbitrarily or based on some
defined logic.</p>
<section id="arbitrary-ordinal-encoding">
<h3>Arbitrary ordinal encoding<a class="headerlink" href="#arbitrary-ordinal-encoding" title="Permalink to this heading">#</a></h3>
<p><strong>Arbitrary ordinal encoding</strong> is the traditional way to perform ordinal encoding, where each category is replaced by a
unique numeric value without any further consideration. This encoding method assigns numbers to the categories based on
their order of appearance in the dataset, incrementing the value for each new category encountered.</p>
<p>Assigning ordinal numbers arbitrarily provides a simple way of obtaining numerical variables from categorical data and it
tends to work well with decision tree based machine learning models.</p>
</section>
<section id="ordered-ordinal-encoding">
<h3>Ordered ordinal encoding<a class="headerlink" href="#ordered-ordinal-encoding" title="Permalink to this heading">#</a></h3>
<p><strong>Ordered ordinal encoding</strong> is a more sophisticated way to implement ordinal encoding. It consists of first sorting the
categories based on the mean value of the target variable associated with each category and then assigning the numeric
values according to this order.</p>
<p>For example, for the variable <code class="docutils literal notranslate"><span class="pre">colour</span></code>, if the mean of the target
for blue, red and grey is 0.5, 0.8 and 0.1 respectively, then we first sort the categories by their mean values: grey (0.1),
blue (0.5), red (0.8). Then, we replace grey with 0, blue with 1, and red with 2.</p>
<p>Ordered encoding attempts to define a monotonic relationship between the encoded variable and the target variable. This
method helps machine learning algorithms, particularly linear models (like linear regression), better capture and learn
the relationship between the encoded feature and the target.</p>
<p>Keep in mind that ordered ordinal encoding will create a monotonic relationship between the encoded variable and the target
variable <strong>only</strong> when <em>there is</em> an intrinsic relationship between the categories and the target variable.</p>
</section>
</section>
<section id="unseen-categories">
<h2>Unseen categories<a class="headerlink" href="#unseen-categories" title="Permalink to this heading">#</a></h2>
<p>Ordinal encoding can’t inherently deal with unseen categories.</p>
<p><strong>Unseen categories</strong> are categorical values that appear in test, validation, or live data but were not present in the
training data. These categories are problematic because the encoding methods generate mappings only for categories present
in the training data. This means that we would lack encodings for any new, unseen category values. Unseen categories cause
errors during inference time (the phase when the machine learning model is used to make predictions on new data) because our
feature engineering pipeline is unable to convert that value into a number.</p>
<p>Ordinal encoding by itself does not deal with unseen categories. However, we could replace the unseen category with an
arbitrary value, such as -1 (remember that ordinal encoding starts at 0). This procedure might work well for linear models
because -1 will be the smallest value for the categorical variable, and since linear models establish linear relationships
between variables and targets, it will return the lowest (or highest) response value for unseen categories.</p>
<p>However, for tree-based models, this method of replacing unseen categories might not be effective because trees create
non-linear partitions, making it difficult to predict in advance how the tree will handle a value of -1, leading to
unpredictable results.</p>
<p>If we expect our variables to have a large number of unseen categories, it is better to opt for another encoding technique
that can handle unseen categories out of the box, such as target encoding, or conversely, group rare categories together.</p>
</section>
<section id="pros-and-cons-of-ordinal-encoding">
<h2>Pros and cons of ordinal encoding<a class="headerlink" href="#pros-and-cons-of-ordinal-encoding" title="Permalink to this heading">#</a></h2>
<p>Ordinal encoding is quick and easy to implement, and it does not increase the dimensionality of the dataset, as does
one-hot encoding.</p>
<p>On the downside, it can impose misleading relationships between the categories; it does not have the ability to deal with
unseen categories; and it is not suitable for a large number of categories, i.e., features with high cardinality.</p>
</section>
<section id="ordinal-encoding-vs-label-encoding">
<h2>Ordinal encoding vs label encoding<a class="headerlink" href="#ordinal-encoding-vs-label-encoding" title="Permalink to this heading">#</a></h2>
<p>Ordinal encoding is sometimes also referred to as label encoding. They follow the same procedure. Scikit-learn provides
2 different transformers: the OrdinalEncoder and the LabelEncoder. Both replace values, that is, categories, with ordinal
data. The OrdinalEncoder is designed to transform the predictor variables (those in the training set), while the LabelEncoder
is designed to transform the target variable. The end result of both transformers is the same; the original values are
replaced by ordinal numbers.</p>
<p>In our view, this has raised some confusion as to whether label encoding and ordinal encoding consist of different ways of
preprocessing categorical data. Some argue that label encoding consists of replacing categories with numbers assigned
arbitrarily, whereas ordinal encoding consists of assigning numbers based on an inherent order of the variable (like
that of the variable size). We make no such distinction and consider both techniques interchangeably.</p>
</section>
<section id="ordinalencoder">
<h2>OrdinalEncoder<a class="headerlink" href="#ordinalencoder" title="Permalink to this heading">#</a></h2>
<p>Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> implements ordinal encoding. That is, it encodes categorical features by
replacing each category with a unique number ranging from 0 to k-1, where ‘k’ is the distinct number of categories in
the dataset.</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> supports both <strong>arbitrary</strong> and <strong>ordered</strong> encoding methods. The desired approach can be
specified using the <code class="docutils literal notranslate"><span class="pre">encoding_method</span></code> parameter that accepts either <strong>“arbitrary”</strong> or <strong>“ordered”</strong>. If not defined,
<code class="docutils literal notranslate"><span class="pre">encoding_method</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">&quot;ordered&quot;</span></code>.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">encoding_method</span></code> is defined as <strong>“arbitrary”</strong>, then <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> will assign numeric values to the
categorical variable on a first-come first-served basis i.e., in the order the categories are encountered in the dataset.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">encoding_method</span></code> is defined as <strong>“ordered”</strong>, then <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> will assign numeric values according
to the mean of the target variable for each category. The categories with the highest target mean value will be replaced by
an integer value k-1, while the category with the lowest target mean value will be replaced by 0. Here ‘k’ is the distinct
number of categories.</p>
<p>When encountering unseen categories, <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> has the option to raise an error and fail, ignore the rare
category, in which case it will be encoded as <code class="docutils literal notranslate"><span class="pre">np.nan</span></code>, or encode it into -1. You can define this behaviour through the
<code class="docutils literal notranslate"><span class="pre">unseen</span></code> parameter.</p>
</section>
<section id="python-implementation">
<h2>Python Implementation<a class="headerlink" href="#python-implementation" title="Permalink to this heading">#</a></h2>
<p>In the rest of the page, we’ll show different ways how we can use ordinal encoding through Feature-engine’s
<code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code>.</p>
<section id="id1">
<h3>Arbitrary ordinal encoding<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<p>We’ll show how ordinal encoding is implemented by Feature-engine’s <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> using the <strong>Titanic Dataset</strong>.</p>
<p>Let’s load the dataset and split it into train and test sets:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">feature_engine.datasets</span> <span class="kn">import</span> <span class="n">load_titanic</span>
<span class="kn">from</span> <span class="nn">feature_engine.encoding</span> <span class="kn">import</span> <span class="n">OrdinalEncoder</span>

<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">load_titanic</span><span class="p">(</span>
    <span class="n">return_X_y_frame</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">handle_missing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">predictors_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">cabin</span><span class="o">=</span><span class="s2">&quot;letter_only&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p>We see the Titanic dataset below:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>        <span class="n">pclass</span>    <span class="n">sex</span>     <span class="n">age</span>         <span class="n">sibsp</span>   <span class="n">parch</span>     <span class="n">fare</span>    <span class="n">cabin</span>  <span class="n">embarked</span>
<span class="mi">501</span>        <span class="mi">2</span>     <span class="n">female</span>   <span class="mf">13.000000</span>      <span class="mi">0</span>      <span class="mi">1</span>     <span class="mf">19.5000</span>     <span class="n">M</span>        <span class="n">S</span>
<span class="mi">588</span>        <span class="mi">2</span>     <span class="n">female</span>    <span class="mf">4.000000</span>      <span class="mi">1</span>      <span class="mi">1</span>     <span class="mf">23.0000</span>     <span class="n">M</span>        <span class="n">S</span>
<span class="mi">402</span>        <span class="mi">2</span>     <span class="n">female</span>   <span class="mf">30.000000</span>      <span class="mi">1</span>      <span class="mi">0</span>     <span class="mf">13.8583</span>     <span class="n">M</span>        <span class="n">C</span>
<span class="mi">1193</span>       <span class="mi">3</span>     <span class="n">male</span>     <span class="mf">29.881135</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mf">7.7250</span>     <span class="n">M</span>        <span class="n">Q</span>
<span class="mi">686</span>        <span class="mi">3</span>     <span class="n">female</span>   <span class="mf">22.000000</span>      <span class="mi">0</span>      <span class="mi">0</span>      <span class="mf">7.7250</span>     <span class="n">M</span>        <span class="n">Q</span>
</pre></div>
</div>
<p>Let’s set up the <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> to encode the categorical variables <code class="docutils literal notranslate"><span class="pre">cabin',</span> <span class="pre">`embarked</span></code>, and <code class="docutils literal notranslate"><span class="pre">sex</span></code> with
integers assigned arbitrarily:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encoder</span> <span class="o">=</span> <span class="n">OrdinalEncoder</span><span class="p">(</span>
         <span class="n">encoding_method</span><span class="o">=</span><span class="s1">&#39;arbitrary&#39;</span><span class="p">,</span>
         <span class="n">variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cabin&#39;</span><span class="p">,</span> <span class="s1">&#39;embarked&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> will encode <strong>all</strong> categorical variables in the training set by default, unless we specify
which variables to encode, as we did in the previous code block.</p>
<p>Let’s fit the encoder so that it learns the mappings for each category:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encoder</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
</pre></div>
</div>
<p>The encoding mappings are stored in its <code class="docutils literal notranslate"><span class="pre">encoder_dict_</span></code> parameter. Let’s display them:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encoder</span><span class="o">.</span><span class="n">encoder_dict_</span>
</pre></div>
</div>
<p>In the <code class="docutils literal notranslate"><span class="pre">encoder_dict_</span></code> we find the integers that will replace each one of the categories of each variable to encode. With
this dictionary, we can map the original value of the variable to the new value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;cabin&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;M&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
 <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
 <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
 <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
 <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
 <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
 <span class="s1">&#39;G&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">},</span>
<span class="s1">&#39;embarked&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Q&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Missing&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<span class="s1">&#39;sex&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;female&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;male&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}}</span>
</pre></div>
</div>
<p>According to the previous mappings, the category M in the variable cabin will be replaced by 0, the category E will be
replaced by 1, and so on.</p>
<p>With the mappings ready, we can go ahead and transform data. The <code class="docutils literal notranslate"><span class="pre">transform()</span></code> method applies the learned mappings to the
categorical features in the train and test sets, returning ordinal variables.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">train_t</span> <span class="o">=</span> <span class="n">encoder</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">test_t</span> <span class="o">=</span> <span class="n">encoder</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">train_t</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p>In the following output, we see the resulting dataframe, where the original variable values in cabin, embarked and sex,
are now replaced with integers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>        <span class="n">pclass</span>  <span class="n">sex</span>        <span class="n">age</span>     <span class="n">sibsp</span>  <span class="n">parch</span>   <span class="n">fare</span>    <span class="n">cabin</span>  <span class="n">embarked</span>
<span class="mi">501</span>        <span class="mi">2</span>      <span class="mi">0</span>     <span class="mf">13.000000</span>     <span class="mi">0</span>      <span class="mi">1</span>    <span class="mf">19.5000</span>     <span class="mi">0</span>       <span class="mi">0</span>
<span class="mi">588</span>        <span class="mi">2</span>      <span class="mi">0</span>     <span class="mf">4.000000</span>      <span class="mi">1</span>      <span class="mi">1</span>    <span class="mf">23.0000</span>     <span class="mi">0</span>       <span class="mi">0</span>
<span class="mi">402</span>        <span class="mi">2</span>      <span class="mi">0</span>     <span class="mf">30.000000</span>     <span class="mi">1</span>      <span class="mi">0</span>    <span class="mf">13.8583</span>     <span class="mi">0</span>       <span class="mi">1</span>
<span class="mi">1193</span>       <span class="mi">3</span>      <span class="mi">1</span>     <span class="mf">29.881135</span>     <span class="mi">0</span>      <span class="mi">0</span>    <span class="mf">7.7250</span>      <span class="mi">0</span>       <span class="mi">2</span>
<span class="mi">686</span>        <span class="mi">3</span>      <span class="mi">0</span>     <span class="mf">22.000000</span>     <span class="mi">0</span>      <span class="mi">0</span>    <span class="mf">7.7250</span>      <span class="mi">0</span>       <span class="mi">2</span>
</pre></div>
</div>
</section>
<section id="inverse-transform">
<h3>Inverse transform<a class="headerlink" href="#inverse-transform" title="Permalink to this heading">#</a></h3>
<p>We can use the <code class="docutils literal notranslate"><span class="pre">inverse_transform()</span></code> method to revert the encoded values back to the original categories. This can be
useful for model interpretation, debugging, or when we need to present results to stakeholders in their original
categorical form.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">train_inv</span> <span class="o">=</span> <span class="n">encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">train_t</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">train_inv</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p>The previous command returns a dataframe with the original category values:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>      <span class="n">pclass</span>     <span class="n">sex</span>        <span class="n">age</span>      <span class="n">sibsp</span>  <span class="n">parch</span>     <span class="n">fare</span>   <span class="n">cabin</span> <span class="n">embarked</span>
<span class="mi">501</span>        <span class="mi">2</span>    <span class="n">female</span>    <span class="mf">13.000000</span>      <span class="mi">0</span>      <span class="mi">1</span>    <span class="mf">19.5000</span>     <span class="n">M</span>        <span class="n">S</span>
<span class="mi">588</span>        <span class="mi">2</span>    <span class="n">female</span>     <span class="mf">4.000000</span>      <span class="mi">1</span>      <span class="mi">1</span>    <span class="mf">23.0000</span>     <span class="n">M</span>        <span class="n">S</span>
<span class="mi">402</span>        <span class="mi">2</span>    <span class="n">female</span>    <span class="mf">30.000000</span>      <span class="mi">1</span>      <span class="mi">0</span>    <span class="mf">13.8583</span>     <span class="n">M</span>        <span class="n">C</span>
<span class="mi">1193</span>       <span class="mi">3</span>    <span class="n">male</span>      <span class="mf">29.881135</span>      <span class="mi">0</span>      <span class="mi">0</span>     <span class="mf">7.7250</span>     <span class="n">M</span>        <span class="n">Q</span>
<span class="mi">686</span>        <span class="mi">3</span>    <span class="n">female</span>    <span class="mf">22.000000</span>      <span class="mi">0</span>      <span class="mi">0</span>     <span class="mf">7.7250</span>     <span class="n">M</span>        <span class="n">Q</span>
</pre></div>
</div>
</section>
<section id="encoding-numerical-variables">
<h3>Encoding numerical variables<a class="headerlink" href="#encoding-numerical-variables" title="Permalink to this heading">#</a></h3>
<p>Numerical variables can also be categorical in nature. <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> will only encode variables of data type
object or categorical by default. However, we can encode numerical variables as well by setting <code class="docutils literal notranslate"><span class="pre">ignore_format=True</span></code>.</p>
<p>In the Titanic dataset, the variable <strong>pclass</strong> represents the class in which the passenger was traveling (that is, first
class, second class, and third class). This variable is probably good as it is and doesn’t require further data preprocessing,
but to show how to encode numerical variables with <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code>, we will treat it as categorical and proceed with
ordinal encoding.﻿</p>
<p>Let’s set up <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> to encode the variable pclass with ordinal numbers, and then fit it to the training
set, so that it learns the mappings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encoder</span> <span class="o">=</span> <span class="n">OrdinalEncoder</span><span class="p">(</span>
   <span class="n">encoding_method</span><span class="o">=</span><span class="s1">&#39;arbitrary&#39;</span><span class="p">,</span>
   <span class="n">variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;pclass&#39;</span><span class="p">],</span>
   <span class="n">ignore_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">train_t</span> <span class="o">=</span> <span class="n">encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">fit_transform()</span></code> method fits the encoder to the training data, learning the mappings for each category, and then
transforms the training data using these mappings. Let’s look at the resulting encodings.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encoder</span><span class="o">.</span><span class="n">encoder_dict_</span>
</pre></div>
</div>
<p>The resulting encodings will be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;pclass&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">}}</span>
</pre></div>
</div>
<p>We see that the second class will be replaced by 0, the third class by 1, and the first class by 2.</p>
<p>If you want to see the resulting dataframe, go ahead and execute <code class="docutils literal notranslate"><span class="pre">train_t.head()</span></code>.</p>
</section>
<section id="id2">
<h3>Ordered ordinal encoding<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<p>Ordered encoding consists of assigning the integers based on the mean target.
We will use the <strong>California Housing Dataset</strong> to demonstrate ordered encoding. This dataset contains numeric features
such as <em>MedInc</em>, <em>HouseAge</em> and <em>AveRooms</em>, among others. The target variable is <em>MedHouseVal</em> i.e., the median house
value for California districts, expressed in hundreds of thousands of dollars ($100,000).</p>
<p>Let’s first set up the dataset.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">feature_engine.encoding</span> <span class="kn">import</span> <span class="n">OrdinalEncoder</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">fetch_california_housing</span>

<span class="n">housing</span> <span class="o">=</span> <span class="n">fetch_california_housing</span><span class="p">(</span><span class="n">as_frame</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">housing</span><span class="o">.</span><span class="n">frame</span>

<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p>Below, we see the dataset:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>   <span class="n">MedInc</span>  <span class="n">HouseAge</span>  <span class="n">AveRooms</span>  <span class="n">AveBedrms</span>  <span class="n">Population</span>  <span class="n">AveOccup</span>  <span class="n">Latitude</span>  \
<span class="mi">0</span>  <span class="mf">8.3252</span>      <span class="mf">41.0</span>  <span class="mf">6.984127</span>   <span class="mf">1.023810</span>       <span class="mf">322.0</span>  <span class="mf">2.555556</span>     <span class="mf">37.88</span>
<span class="mi">1</span>  <span class="mf">8.3014</span>      <span class="mf">21.0</span>  <span class="mf">6.238137</span>   <span class="mf">0.971880</span>      <span class="mf">2401.0</span>  <span class="mf">2.109842</span>     <span class="mf">37.86</span>
<span class="mi">2</span>  <span class="mf">7.2574</span>      <span class="mf">52.0</span>  <span class="mf">8.288136</span>   <span class="mf">1.073446</span>       <span class="mf">496.0</span>  <span class="mf">2.802260</span>     <span class="mf">37.85</span>
<span class="mi">3</span>  <span class="mf">5.6431</span>      <span class="mf">52.0</span>  <span class="mf">5.817352</span>   <span class="mf">1.073059</span>       <span class="mf">558.0</span>  <span class="mf">2.547945</span>     <span class="mf">37.85</span>
<span class="mi">4</span>  <span class="mf">3.8462</span>      <span class="mf">52.0</span>  <span class="mf">6.281853</span>   <span class="mf">1.081081</span>       <span class="mf">565.0</span>  <span class="mf">2.181467</span>     <span class="mf">37.85</span>

   <span class="n">Longitude</span>  <span class="n">MedHouseVal</span>
<span class="mi">0</span>    <span class="o">-</span><span class="mf">122.23</span>        <span class="mf">4.526</span>
<span class="mi">1</span>    <span class="o">-</span><span class="mf">122.22</span>        <span class="mf">3.585</span>
<span class="mi">2</span>    <span class="o">-</span><span class="mf">122.24</span>        <span class="mf">3.521</span>
<span class="mi">3</span>    <span class="o">-</span><span class="mf">122.25</span>        <span class="mf">3.413</span>
<span class="mi">4</span>    <span class="o">-</span><span class="mf">122.25</span>        <span class="mf">3.422</span>
</pre></div>
</div>
<p>To demonstrate the power of ordered encoding, we will convert the <code class="docutils literal notranslate"><span class="pre">HouseAge</span></code> variable, which is continuous, into a
categorical variable with four classes: <em>new</em>, <em>newish</em>, <em>old</em>, and <em>very old</em>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;HouseAgeCategorical&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">qcut</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;HouseAge&#39;</span><span class="p">],</span> <span class="n">q</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;new&#39;</span><span class="p">,</span>   <span class="s1">&#39;newish&#39;</span><span class="p">,</span> <span class="s1">&#39;old&#39;</span><span class="p">,</span> <span class="s1">&#39;very_old&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[[</span><span class="s1">&#39;HouseAge&#39;</span><span class="p">,</span> <span class="s1">&#39;HouseAgeCategorical&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>     <span class="n">HouseAge</span> <span class="n">HouseAgeCategorical</span>
<span class="mi">0</span>      <span class="mf">41.0</span>   <span class="n">very_old</span>
<span class="mi">1</span>      <span class="mf">21.0</span>     <span class="n">newish</span>
<span class="mi">2</span>      <span class="mf">52.0</span>   <span class="n">very_old</span>
<span class="mi">3</span>      <span class="mf">52.0</span>   <span class="n">very_old</span>
<span class="mi">4</span>      <span class="mf">52.0</span>   <span class="n">very_old</span>
</pre></div>
</div>
<p>The categories of <strong>HouseAgeCategorical</strong> (<em>new</em>, <em>newish</em>, <em>old</em>, <em>very_old</em>) are discrete and represent ranges of
house ages. They very likely have an ordinal relationship with the target, as older houses tend to be cheaper, making
them a suitable candidate for ordered encoding.</p>
<p>Now let’s split the data into training and test sets.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;MedHouseVal&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;MedHouseVal&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p>The training set now includes the categorical feature we created for <em>HouseAge</em>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>      <span class="n">MedInc</span>  <span class="n">HouseAge</span>  <span class="n">AveRooms</span>  <span class="n">AveBedrms</span>  <span class="n">Population</span>  <span class="n">AveOccup</span>  <span class="n">Latitude</span>  \
<span class="mi">1989</span>  <span class="mf">1.9750</span>      <span class="mf">52.0</span>  <span class="mf">2.800000</span>   <span class="mf">0.700000</span>       <span class="mf">193.0</span>  <span class="mf">4.825000</span>     <span class="mf">36.73</span>
<span class="mi">256</span>   <span class="mf">2.2604</span>      <span class="mf">43.0</span>  <span class="mf">3.671480</span>   <span class="mf">1.184116</span>       <span class="mf">836.0</span>  <span class="mf">3.018051</span>     <span class="mf">37.77</span>
<span class="mi">7887</span>  <span class="mf">6.2990</span>      <span class="mf">17.0</span>  <span class="mf">6.478022</span>   <span class="mf">1.087912</span>      <span class="mf">1387.0</span>  <span class="mf">3.810440</span>     <span class="mf">33.87</span>
<span class="mi">4581</span>  <span class="mf">1.7199</span>      <span class="mf">17.0</span>  <span class="mf">2.518000</span>   <span class="mf">1.196000</span>      <span class="mf">3051.0</span>  <span class="mf">3.051000</span>     <span class="mf">34.06</span>
<span class="mi">1993</span>  <span class="mf">2.2206</span>      <span class="mf">50.0</span>  <span class="mf">4.622754</span>   <span class="mf">1.161677</span>       <span class="mf">606.0</span>  <span class="mf">3.628743</span>     <span class="mf">36.73</span>

     <span class="n">Longitude</span> <span class="n">HouseAgeCategorical</span>
<span class="mi">1989</span>    <span class="o">-</span><span class="mf">119.79</span>           <span class="n">very_old</span>
<span class="mi">256</span>     <span class="o">-</span><span class="mf">122.21</span>           <span class="n">very_old</span>
<span class="mi">7887</span>    <span class="o">-</span><span class="mf">118.04</span>                <span class="n">new</span>
<span class="mi">4581</span>    <span class="o">-</span><span class="mf">118.28</span>                <span class="n">new</span>
<span class="mi">1993</span>    <span class="o">-</span><span class="mf">119.81</span>           <span class="n">very_old</span>
</pre></div>
</div>
<p>Let’s define the <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code> to encode the categorical variable <strong>HouseAgeCategorical</strong> using <strong>ordered</strong>
encoding.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ordered_encoder</span> <span class="o">=</span> <span class="n">OrdinalEncoder</span><span class="p">(</span>
   <span class="n">encoding_method</span><span class="o">=</span><span class="s1">&#39;ordered&#39;</span><span class="p">,</span>
   <span class="n">variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;HouseAgeCategorical&#39;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Let’s fit the encoder so that it learns the mappings. Note that for ordered ordinal encoding, we need to pass the target
variable to the <code class="docutils literal notranslate"><span class="pre">fit()</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">X_train_t</span> <span class="o">=</span> <span class="n">ordered_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">X_test_t</span> <span class="o">=</span> <span class="n">ordered_encoder</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that we first fit the encoder on the training data and then transformed both the training and test data, using the
mappings learned from the training set.</p>
<p>Let’s display the resulting dataframe:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">X_train_t</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
<p>We can see the resulting dataframe below, where the variable HouseAgeCategorical now contains the encoded values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>      <span class="n">MedInc</span>  <span class="n">HouseAge</span>  <span class="n">AveRooms</span>  <span class="n">AveBedrms</span>  <span class="n">Population</span>  <span class="n">AveOccup</span>  <span class="n">Latitude</span>  \
<span class="mi">1989</span>  <span class="mf">1.9750</span>      <span class="mf">52.0</span>  <span class="mf">2.800000</span>   <span class="mf">0.700000</span>       <span class="mf">193.0</span>  <span class="mf">4.825000</span>     <span class="mf">36.73</span>
<span class="mi">256</span>   <span class="mf">2.2604</span>      <span class="mf">43.0</span>  <span class="mf">3.671480</span>   <span class="mf">1.184116</span>       <span class="mf">836.0</span>  <span class="mf">3.018051</span>     <span class="mf">37.77</span>
<span class="mi">7887</span>  <span class="mf">6.2990</span>      <span class="mf">17.0</span>  <span class="mf">6.478022</span>   <span class="mf">1.087912</span>      <span class="mf">1387.0</span>  <span class="mf">3.810440</span>     <span class="mf">33.87</span>
<span class="mi">4581</span>  <span class="mf">1.7199</span>      <span class="mf">17.0</span>  <span class="mf">2.518000</span>   <span class="mf">1.196000</span>      <span class="mf">3051.0</span>  <span class="mf">3.051000</span>     <span class="mf">34.06</span>
<span class="mi">1993</span>  <span class="mf">2.2206</span>      <span class="mf">50.0</span>  <span class="mf">4.622754</span>   <span class="mf">1.161677</span>       <span class="mf">606.0</span>  <span class="mf">3.628743</span>     <span class="mf">36.73</span>

     <span class="n">Longitude</span>   <span class="n">HouseAgeCategorical</span>
<span class="mi">1989</span>    <span class="o">-</span><span class="mf">119.79</span>                    <span class="mi">3</span>
<span class="mi">256</span>     <span class="o">-</span><span class="mf">122.21</span>                    <span class="mi">3</span>
<span class="mi">7887</span>    <span class="o">-</span><span class="mf">118.04</span>                    <span class="mi">0</span>
<span class="mi">4581</span>    <span class="o">-</span><span class="mf">118.28</span>                    <span class="mi">0</span>
<span class="mi">1993</span>    <span class="o">-</span><span class="mf">119.81</span>                    <span class="mi">3</span>
</pre></div>
</div>
<p>Let’s check out the resulting mappings from category to integer:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ordered_encoder</span><span class="o">.</span><span class="n">encoder_dict_</span>
</pre></div>
</div>
<p>We see the values that will be used to replace the categories in the following display:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;HouseAgeCategorical&#39;</span><span class="p">:</span>
 <span class="p">{</span><span class="s1">&#39;new&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;newish&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s1">&#39;old&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s1">&#39;very_old&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To understand the result, let’s check out the mean target values for each category in <strong>HouseAgeCategorical</strong>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">test_set</span> <span class="o">=</span> <span class="n">X_test_t</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<span class="n">mean_target_per_encoded_category</span> <span class="o">=</span> <span class="n">test_set</span><span class="p">[[</span><span class="s1">&#39;HouseAgeCategorical&#39;</span><span class="p">,</span> <span class="s1">&#39;MedHouseVal&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;HouseAgeCategorical&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mean_target_per_encoded_category</span><span class="p">)</span>
</pre></div>
</div>
<p>This will result in the following output:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>     <span class="n">HouseAgeCategorical</span>  <span class="n">MedHouseVal</span>
<span class="mi">0</span>     <span class="mi">0</span>                   <span class="mf">1.925929</span>
<span class="mi">1</span>     <span class="mi">1</span>                   <span class="mf">2.043071</span>
<span class="mi">2</span>     <span class="mi">2</span>                   <span class="mf">2.083013</span>
<span class="mi">3</span>     <span class="mi">3</span>                   <span class="mf">2.237240</span>
</pre></div>
</div>
<p>The categories were first sorted based on their target mean values, and then the numbers were assigned according to
this order. For example, houses in the <em>very_old</em> age category encoded as ‘3’ have an average median house value of
approximately $223,724, while those in the <em>new</em> age category encoded as ‘0’ have an average median house value of
approximately $192,593. This is in principle, contrary to what we assumed in the first place: that older houses would be
cheaper. But this is what the data tells us.</p>
<p>We can now plot the target mean value for each category after encoding for the test set to show the monotonic relationship.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mean_target_per_encoded_category</span><span class="p">[</span><span class="s1">&#39;HouseAgeCategorical&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mean_target_per_encoded_category</span><span class="p">[</span><span class="s1">&#39;HouseAgeCategorical&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">mean_target_per_encoded_category</span><span class="p">[</span><span class="s1">&#39;HouseAgeCategorical&#39;</span><span class="p">],</span> <span class="n">mean_target_per_encoded_category</span><span class="p">[</span><span class="s1">&#39;MedHouseVal&#39;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Mean target value per category&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Encoded category&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Mean target value&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>This will give us the following output:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/ordinal_encoding_monotonic.png"><img alt="../../_images/ordinal_encoding_monotonic.png" src="../../_images/ordinal_encoding_monotonic.png" style="width: 400px; height: 350px;" /></a>
</figure>
<p>As we see in the above plot, ordered ordinal encoding was able to capture the monotonic relationship between the
<code class="docutils literal notranslate"><span class="pre">HouseAgeCategorical</span></code> variable and the median house value, allowing the machine learning models to learn this trend that
might otherwise go unnoticed.</p>
<p>The power of ordinal ordered encoder resides in its intrinsic capacity of finding monotonic relationships.</p>
</section>
</section>
<section id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Permalink to this heading">#</a></h2>
<p>In the following notebook, you can find more details into the <code class="xref py py-class docutils literal notranslate"><span class="pre">OrdinalEncoder()</span></code>’s
functionality and example plots with the encoded variables:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://nbviewer.org/github/feature-engine/feature-engine-examples/blob/main/encoding/OrdinalEncoder.ipynb">Jupyter notebook</a></p></li>
</ul>
<p>For more details about this and other feature engineering methods check out these resources and tutorials:</p>
<figure class="align-center align-left" id="id3">
<a class="reference external image-reference" href="https://www.trainindata.com/p/feature-engineering-for-machine-learning"><img alt="../../_images/feml.png" src="../../_images/feml.png" style="width: 300px;" /></a>
<figcaption>
<p><span class="caption-text">Feature Engineering for Machine Learning</span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<p>Or read our book:</p>
<figure class="align-center align-left" id="id4">
<a class="reference external image-reference" href="https://www.packtpub.com/en-us/product/python-feature-engineering-cookbook-9781835883587"><img alt="../../_images/cookbook.png" src="../../_images/cookbook.png" style="width: 200px;" /></a>
<figcaption>
<p><span class="caption-text">Python Feature Engineering Cookbook</span><a class="headerlink" href="#id4" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<p>Both our book and course are suitable for beginners and more advanced data scientists
alike. By purchasing them you are supporting Sole, the main developer of Feature-engine.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="OneHotEncoder.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">OneHotEncoder</p>
      </div>
    </a>
    <a class="right-next"
       href="CountFrequencyEncoder.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">CountFrequencyEncoder</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#arbitrary-vs-ordered-ordinal-encoding">Arbitrary vs ordered ordinal encoding</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arbitrary-ordinal-encoding">Arbitrary ordinal encoding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ordered-ordinal-encoding">Ordered ordinal encoding</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#unseen-categories">Unseen categories</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pros-and-cons-of-ordinal-encoding">Pros and cons of ordinal encoding</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ordinal-encoding-vs-label-encoding">Ordinal encoding vs label encoding</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ordinalencoder">OrdinalEncoder</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python-implementation">Python Implementation</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Arbitrary ordinal encoding</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#inverse-transform">Inverse transform</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#encoding-numerical-variables">Encoding numerical variables</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Ordered ordinal encoding</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resources">Additional resources</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/user_guide/encoding/OrdinalEncoder.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>